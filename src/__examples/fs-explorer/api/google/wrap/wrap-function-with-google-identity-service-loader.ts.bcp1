import { wrapFunctionWithAsyncOptionsMapper } from '../../../misc/wrap-function-with-async-options-mapper';
import {
  IMapOptionsWithGoogleIdentityServiceLoaderInputOptions,
  IMapOptionsWithGoogleIdentityServiceLoaderOutputOptions,
  mapOptionsWithGoogleIdentityServiceLoader,
} from './map-options-with-google-identity-service-loader';

export interface IWrapFunctionWithGoogleIdentityServiceLoaderInputFunction<GOptions extends IMapOptionsWithGoogleIdentityServiceLoaderOutputOptions, GReturn> {
  (
    options: GOptions,
  ): Promise<GReturn>,
}

export interface IWrapFunctionWithGoogleIdentityServiceLoaderOutputFunction<GOptions extends IMapOptionsWithGoogleIdentityServiceLoaderOutputOptions, GReturn> {
  (
    options: IMapOptionsWithGoogleIdentityServiceLoaderInputOptions<GOptions>,
  ): Promise<GReturn>,
}

export function wrapFunctionWithGoogleIdentityServiceLoader<GOptions extends IMapOptionsWithGoogleIdentityServiceLoaderOutputOptions, GReturn>(
  fnc: IWrapFunctionWithGoogleIdentityServiceLoaderInputFunction<GOptions, GReturn>,
): IWrapFunctionWithGoogleIdentityServiceLoaderOutputFunction<GOptions, GReturn> {
  return wrapFunctionWithAsyncOptionsMapper<IMapOptionsWithGoogleIdentityServiceLoaderInputOptions<GOptions>, GOptions, GReturn>(
    fnc,
    mapOptionsWithGoogleIdentityServiceLoader,
  );
}
